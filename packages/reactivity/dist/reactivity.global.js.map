{
  "version": 3,
  "sources": ["../src/index.ts", "../src/effect.ts", "../../shared/src/index.ts", "../src/reactive.ts"],
  "sourcesContent": ["// import {isObject} from \"@vue/shared\"\r\n// console.log(isObject({}))\r\n\r\nexport {effect} from \"./effect\"\r\nexport {reactive} from \"./reactive\"\r\n\r\n\r\n", "export function effect(){\r\n  \r\n}", "export  const isObject = (val:any)=>{\r\n  return typeof val === 'object' && val !== null\r\n}", "import { isObject } from \"@vue/shared\";\r\n\r\n// \u7F13\u5B58\u6240\u6709\u88AB\u4EE3\u7406\u7684\u5BF9\u8C61\r\n// \u9632\u6B62\u7528\u6237\u591A\u6B21\u4EE3\u7406\u540C\u4E00\u4E2A\u5BF9\u8C61\r\n/**\r\n * let obj = {name:zx}\r\n * let state1 = reactive(obj)\r\n * let state2 = reactive(obj)\r\n * console.log(state1 === state2) //false\r\n*/\r\n// WeakMap  key\u53EA\u80FD\u662F\u5BF9\u8C61\r\nconst reactiveMap = new WeakMap() \r\n\r\n//\u5224\u65AD\u8FD9\u4E2A\u5BF9\u8C61\u6709\u6CA1\u6709\u88AB\u4EE3\u7406\u8FC7\r\n//\u9632\u6B62\u7528\u6237\u4F20\u5165\u4E00\u4E2A\u4EE3\u7406\u8FC7\u7684\u5BF9\u8C61\r\n/**\r\n * let obj = {name:\"zx\"}\r\n * let state1 = reactive(obj)\r\n * let state2 = reactive(state1)\r\n * \r\n*/\r\n//TS \u72EC\u6709  \u679A\u4E3E\r\nconst enum ReactiveFlags {\r\n  IS_REACTIVE = '__v_isReactive'\r\n}\r\n\r\n// 1)  \u5C06\u6570\u636E\u8F6C\u5316\u4E3A\u54CD\u5E94\u5F0F\u6570\u636E\r\nexport function reactive(target){\r\n  //\u9996\u5148\u5FC5\u987B\u662F\u5BF9\u8C61\r\n  if(!isObject(target)) return\r\n  //\u5982\u679C\u7F13\u5B58\u4E2D\u6709\u8FD9\u4E2A\u4EE3\u7406\u5BF9\u8C61 \u5C31\u4E0D\u518D\u8FDB\u884C\u4EE3\u7406\r\n  if(reactiveMap.has(target)){\r\n    return reactiveMap.get(target)\r\n  }\r\n  //\u5982\u679Ctarget\u662F\u4E00\u4E2A\u4EE3\u7406\u8FC7\u7684\u5BF9\u8C61 \u4E5F\u5C31\u4E0D\u518D\u8FDB\u884C\u4EE3\u7406\r\n  if(target[ReactiveFlags.IS_REACTIVE]){\r\n    return target\r\n  }\r\n  //\u5BF9\u4F20\u5165\u7684\u503C\u8FDB\u884C\u4EE3\u7406\r\n  const proxy = new Proxy(target,{\r\n    get(target,key,receiver){\r\n      if(key === ReactiveFlags.IS_REACTIVE){\r\n        return true\r\n      }\r\n      return Reflect.get(target,key,receiver)\r\n    },\r\n    set(target,key,value,receiver){\r\n      return Reflect.set(target,key,value,receiver)\r\n    }\r\n  })\r\n\r\n  reactiveMap.set(target,proxy)\r\n\r\n  return proxy\r\n}\r\n\r\n//\u4E3A\u4EC0\u4E48\u4E0D\u80FD\u8FD9\u6837\u5199\r\n/**\r\n * let target = {\r\n      _name:\"zx\",\r\n      get  name(){  //\u5BF9\u8C61\u5C5E\u6027\u8BBF\u95EE\u5668\r\n        return this._name\r\n      }\r\n    }\r\n    const proxy = new Proxy(target,{\r\n      get(target,key,receiver){\r\n        return target[key]\r\n      },\r\n      set(target,key,value,receiver){\r\n        target[key] = value\r\n        return true\r\n      }\r\n    })\r\n\r\n    proxy.name\r\n * \r\n*/\r\n\r\n//\u56E0\u4E3A\u83B7\u53D6name\u7684\u65F6\u5019get\u6267\u884C\u4E86\u4E00\u6B21\uFF0C\r\n//\u4F46\u83B7\u53D6 this._name\u65F6get\u672A\u6267\u884C \u56E0\u4E3A\u6B64\u65F6\u7684this\u662Ftarget\u800C\u4E0D\u662F\u4EE3\u7406\u5BF9\u8C61\r\n//\u4F7FReflect\u65F6this\u5C31\u6307\u5411\u4E86\u4EE3\u7406\u5BF9\u8C61 proxy \u4F1A\u6267\u884C\u4E24\u6B21"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAO,oBAAiB;AAAA,EAExB;;;ACFQ,MAAM,WAAW,CAAC,QAAU;AAClC,WAAO,OAAO,QAAQ,YAAY,QAAQ;AAAA,EAC5C;;;ACSA,MAAM,cAAc,oBAAI,QAAQ;AAgBzB,oBAAkB,QAAO;AAE9B,QAAG,CAAC,SAAS,MAAM;AAAG;AAEtB,QAAG,YAAY,IAAI,MAAM,GAAE;AACzB,aAAO,YAAY,IAAI,MAAM;AAAA,IAC/B;AAEA,QAAG,OAAO,qCAA2B;AACnC,aAAO;AAAA,IACT;AAEA,UAAM,QAAQ,IAAI,MAAM,QAAO;AAAA,MAC7B,IAAI,SAAO,KAAI,UAAS;AACtB,YAAG,QAAQ,oCAA0B;AACnC,iBAAO;AAAA,QACT;AACA,eAAO,QAAQ,IAAI,SAAO,KAAI,QAAQ;AAAA,MACxC;AAAA,MACA,IAAI,SAAO,KAAI,OAAM,UAAS;AAC5B,eAAO,QAAQ,IAAI,SAAO,KAAI,OAAM,QAAQ;AAAA,MAC9C;AAAA,IACF,CAAC;AAED,gBAAY,IAAI,QAAO,KAAK;AAE5B,WAAO;AAAA,EACT;",
  "names": []
}
