{
  "version": 3,
  "sources": ["../src/index.ts", "../../reactivity/src/effect.ts", "../../shared/src/index.ts", "../../reactivity/src/baseHandler.ts", "../../reactivity/src/reactive.ts", "../../reactivity/src/computed.ts", "../../reactivity/src/watch.ts", "../../reactivity/src/ref.ts", "../../runtime-core/src/componentProps.ts", "../../runtime-core/src/component.ts", "../../runtime-core/src/scheduler.ts", "../../runtime-core/src/vnode.ts", "../../runtime-core/src/renderer.ts", "../../runtime-core/src/h.ts", "../src/nodeOps.ts", "../src/modules/attr.ts", "../src/modules/class.ts", "../src/modules/event.ts", "../src/modules/style.ts", "../src/patchProp.ts"],
  "sourcesContent": ["\r\nimport { createRenderer } from \"@vue/runtime-core\";\r\nimport { nodeOps } from \"./nodeOps\";\r\nimport { patchProp } from \"./patchProp\";\r\n\r\n\r\n// DOM\u548C\u5C5E\u6027\u7684API\r\n\r\nconst renderOptions =  Object.assign(nodeOps,{patchProp})\r\n\r\n\r\n// container  \u865A\u62DFdom\u6302\u8F7D\u5230\u54EA\u4E2A\u5BB9\u5668\u4E0A\r\nexport function render(vnode,container){\r\n  createRenderer(renderOptions).render(vnode,container)\r\n  \r\n}\r\n\r\n\r\n\r\nexport * from  \"@vue/runtime-core\"\r\n// console.log(renderOptions)\r\n", "export let activeEffect = undefined //\u5F53\u524D\u6B63\u5728\u6267\u884C\u7684effect\u662F\u8C01\r\n\r\nfunction cleanupEffect(effect){\r\n  const {deps} = effect //deps\u91CC\u9762\u88C5\u7684\u662Fname\u5BF9\u5E94\u7684effect\r\n  for(let i = 0 ; i < deps.length ;i++){\r\n    deps[i].delete(effect) //\u89E3\u9664effect\r\n  }\r\n  effect.deps.length = 0\r\n}\r\n\r\n\r\nexport class ReactiveEffect{\r\n  //\u8FD9\u4E2ATS\u4E2D\u5199class\u7684\u65B9\u5F0F\r\n  // \u7528\u4E8E\u6807\u8BB0\u5F53\u524Deffect\u7684\u7236\u7EA7\u662F\u8C01\r\n  public parent = null\r\n  // \u53CD\u5411\u8BB0\u5F55 effect \u4F9D\u8D56\u4E86\u90A3\u4E9B\u5C5E\u6027\r\n  public deps = []\r\n  //\u5728\u5B9E\u4F8B\u4E0A\u65B0\u589E\u4E00\u4E2Aactive\u5C5E\u6027\r\n  public active = true // \u8FD9\u4E2Aeffect\u9ED8\u8BA4\u662F\u6FC0\u6D3B\u7684\u72B6\u6001\r\n  //\u7528\u6237\u4F20\u9012\u7684\u53C2\u6570\u4E5F\u4F1A\u5728\u5F53\u524Dthis\u4E0A  \u7C7B\u4F3C this.fn = fn\r\n  // scheduler  \u7528\u6237\u81EA\u5B9A\u4E49\u8C03\u5EA6\u5668\r\n  constructor(public fn,public scheduler?){}\r\n  // run  \u5C31\u662F\u6267\u884Ceffect\r\n  run(){\r\n    // \u5982\u679C\u5F53\u524D\u7684effect\u662F\u975E\u6FC0\u6D3B\u7684\u72B6\u6001\r\n    // \u53EA\u6267\u884C\u4F20\u5165\u7684\u51FD\u6570  \u4E0D\u9700\u8981\u8FDB\u884C\u4F9D\u8D56\u6536\u96C6\r\n    if(!this.active){\r\n      this.fn()\r\n    }\r\n\r\n    // \u5F00\u59CB\u8FDB\u884C\u4F9D\u8D56\u6536\u96C6\r\n    // \u6838\u5FC3\u662F\uFF1A\u5C06\u5F53\u524D\u7684effect\u548C\u7A0D\u540E\u6E32\u67D3\u7684\u5C5E\u6027\u5173\u8054\u5728\u4E00\u8D77\r\n    try{\r\n      // \u8BB0\u5F55\u5F53\u524Deffect\u7684\u7236\u7EA7\u662F\u8C01\r\n      this.parent = activeEffect\r\n      activeEffect = this\r\n\r\n      // \u5728\u6267\u884C\u7528\u6237\u51FD\u6570\u4E4B\u524D\u5C06\u4E4B\u524D\u6536\u96C6\u7684\u5185\u5BB9\u6E05\u7A7A\r\n      cleanupEffect(this)\r\n      // \u5F53fn()\u4E2D\u8C03\u4F63\u53D6\u503C\u64CD\u4F5C\u7684\u65F6\u5019 \u5C31\u53EF\u4EE5\u83B7\u53D6\u5230\u8FD9\u4E2A\u5168\u5C40\u7684activeEffect\r\n      return this.fn()\r\n    }finally{\r\n      // \u7ED3\u675F\u540E \u6E05\u7A7AactiveEffect\r\n      // activeEffect = undefined\r\n      // \u7ED3\u675F\u540E\u6307\u5411\u7236\u7EA7\r\n      activeEffect = this.parent\r\n      this.parent = null  // \u4E0D\u6E05\u7A7A\u4E5F\u884C \u521D\u59CB\u5316\u65F6\u4E5F\u6E05\u7A7A\u4E86\r\n    }\r\n    \r\n  }  \r\n  stop(){\r\n    if(this.active){\r\n      this.active = false\r\n      cleanupEffect(this) //\u505C\u6B62effect\u6536\u96C6\r\n    }\r\n  }\r\n}\r\n\r\nexport function effect(fn,options:any = {}){\r\n  // \u8FD9\u91CC\u7684fn\u53EF\u4EE5\u6839\u636E\u72B6\u6001\u53D8\u5316 \u91CD\u65B0\u6267\u884C\uFF0C\u4E14effect\u53EF\u4EE5\u5D4C\u5957\u7740\u5199\r\n  //\u521B\u5EFA\u54CD\u5E94\u5F0F\u7684effect\r\n  const _effect = new ReactiveEffect(fn,options.scheduler)\r\n  // \u9ED8\u8BA4\u6267\u884C\u4E00\u6B21\r\n  _effect.run()\r\n\r\n\r\n  const runner = _effect.run.bind(_effect)\r\n  runner.effect = _effect //\u5C06effect\u6302\u8F7D\u5230runner\u51FD\u6570\u4E0A\r\n\r\n  return runner\r\n}\r\n\r\n\r\n\r\n// 3.0\u6700\u65E9\u5173\u4E8E\u8FD9\u4E2A\u7684\u5904\u7406\u662F\u91C7\u7528\u6808\r\n// \u5148\u8BA9e1\u5165\u6808 \u518D\u8BA9e2\u5165\u6808 \u968F\u540E\u4F9D\u6B21\u51FA\u6808\r\n/**\r\neffect(()=>{ //e1\r\n  state.name  // name -> e1\r\n  effect(()=>{ //e2\r\n    state.age // age -> e2\r\n  })\r\n  state.address // address -> e1\r\n})\r\n*/\r\n\r\n// 3.0\u6700\u65B0\u7248 \u505A\u4E86\u7C7B\u4F3C\u6811\u5F62\u7ED3\u6784\u7684\u5904\u7406 \u627Eeffect\u7684\u7236\u7EA7\r\n/**\r\neffect(()=>{ //e1  parent = null activeEffect = e1\r\n  state.name  // name -> e1\r\n  effect(()=>{ //e2  parent = e1  activeEffect = e2\r\n    state.age // age -> e2\r\n  })\r\n  state.address //  activeEffect = this.parent \u53C8\u6307\u5411\u4E86e1\r\n})\r\n*/\r\n\r\n\r\nconst targetMap = new WeakMap()\r\n//\u6536\u96C6\u4F9D\u8D56\r\nexport function track(target,type,key){\r\n  // console.log(target,type,key)\r\n  //\u53EA\u6709\u5BF9effect\u4E2D\u7684\u5C5E\u6027\u53D8\u5316 \u624D\u8FDB\u884C\u6536\u96C6\r\n  if(!activeEffect) return\r\n  // console.log(target,type,key)\r\n\r\n  // \u6784\u9020\u4E0B\u9762\u7ED3\u6784\u7684\u6570\u636E\r\n  /**\r\n    WeakMap = {\r\n      \u5BF9\u8C61\uFF1Anew Map({\r\n        key(name/age):Set(effect)\r\n      })\r\n    }\r\n  */\r\n\r\n let depsMap = targetMap.get(target)\r\n//  \u7B2C\u4E00\u6B21\u83B7\u53D6\u80AF\u5B9A\u6CA1\u6709\r\n if(!depsMap){\r\n  targetMap.set(target,(depsMap = new Map()))\r\n }\r\n let dep = depsMap.get(key)\r\n //  \u7B2C\u4E00\u6B21\u83B7\u53D6\u80AF\u5B9A\u6CA1\u6709\r\n if(!dep){\r\n   depsMap.set(key,(dep = new Set()))\r\n }\r\n /**\r\n  * effect(()=>{\r\n  *   state.name\r\n  *   state.name\r\n  *   state.name\r\n  * })\r\n */\r\n// \u4E0A\u8FF0\u60C5\u51B5\u4E0B name\u53EA\u9700\u8981\u6536\u96C6\u4E00\u6B21\u5C31\u597D\r\n  if(!dep.has(activeEffect)){\r\n    dep.add(activeEffect)\r\n\r\n  // \u81F3\u6B64 \u4E0A\u8FF0\u4EE3\u7801 \u53EA\u505A\u4E86\u5355\u5411\u7684\u8BB0\u5F55 \r\n  // \u5C5E\u6027\u8BB0\u5F55\u4E86effect  \u4F46\u662F\u5982\u679Ceffect\u5220\u9664\u4E86 \u8FD9\u4E2A\u5C5E\u6027\u4EFB\u7136\u8FD8\u8BB0\u5F55\u8FD9\u4E2Aeffect\r\n  // \u6211\u4EEC\u9700\u8981\u518D\u8FDB\u884C\u4E0B \u53CD\u5411\u8BB0\u5F55 \r\n  // \u8BA9effect \u4E5F\u8BB0\u5F55\u4E0B\u5C5E\u6027\u3001\r\n  // \u8FD9\u6837\u505A\u7684\u597D\u5904\u662F \u53EF\u4EE5\u6E05\u7406\r\n    //\u8BA9effect\u8BB0\u5F55\u81EA\u5DF1\u5173\u8054\u4E86\u90A3\u4E9B\u5C5E\u6027\r\n    activeEffect.deps.push(dep)\r\n  }\r\n  // console.log(targetMap);\r\n  // console.log(activeEffect)\r\n\r\n}\r\n\r\n//\u89E6\u53D1\u66F4\u65B0\r\nexport function trigger(target,type,key,value,oldVal){\r\n  const depsMap = targetMap.get(target)\r\n  if(!depsMap) return  //\u89E6\u53D1\u7684\u503C\u4E0D\u5728\u4F9D\u8D56\u4E2D \u5219\u4E0D\u66F4\u65B0\r\n  let effects = depsMap.get(key) // \u627E\u5230\u5C5E\u6027\u5BF9\u5E94\u7684effect\r\n  \r\n  if(effects){\r\n   /*  effects = new Set(effects) // \u5148copy\u4E00\u4EFD\r\n    effects.forEach(effect=>{\r\n      // \u5982\u679C\u5728\u6267\u884Ceffect\u7684\u65F6\u5019 effect\u91CC\u9762\u53C8\u6709\u6570\u636E\u66F4\u65B0\r\n      // \u90A3\u4E48\u6211\u4EEC\u5C31\u4E0D\u80FD\u6267\u884Ceffect \u9632\u6B62\u6B7B\u5FAA\u73AF\r\n      if(effect !== activeEffect){\r\n        if(effect.scheduler){\r\n          //\u5982\u679C\u7528\u6237\u4F20\u5165\u4E86 \u8C03\u5EA6\u51FD\u6570 \u5219\u7528\u7528\u6237\u4F20\u5165\u7684\r\n          effect.scheduler() \r\n        }else{\r\n          // \u5426\u5219\u9ED8\u8BA4\u5237\u65B0\u89C6\u56FE\r\n          effect.run()\r\n        }\r\n        \r\n      }\r\n    }) */\r\n    triggerEffects(effects)\r\n  } \r\n}\r\n\r\nexport function triggerEffects(effects){\r\n  effects = new Set(effects) // \u5148copy\u4E00\u4EFD\r\n  effects.forEach(effect=>{\r\n    // \u5982\u679C\u5728\u6267\u884Ceffect\u7684\u65F6\u5019 effect\u91CC\u9762\u53C8\u6709\u6570\u636E\u66F4\u65B0\r\n    // \u90A3\u4E48\u6211\u4EEC\u5C31\u4E0D\u80FD\u6267\u884Ceffect \u9632\u6B62\u6B7B\u5FAA\u73AF\r\n    if(effect !== activeEffect){\r\n      if(effect.scheduler){\r\n        //\u5982\u679C\u7528\u6237\u4F20\u5165\u4E86 \u8C03\u5EA6\u51FD\u6570 \u5219\u7528\u7528\u6237\u4F20\u5165\u7684\r\n        effect.scheduler() \r\n      }else{\r\n        // \u5426\u5219\u9ED8\u8BA4\u5237\u65B0\u89C6\u56FE\r\n        effect.run()\r\n      }\r\n      \r\n    }\r\n  })\r\n}\r\n\r\n\r\n\r\n\r\n\r\n// 1)  \u6211\u4EEC\u5148\u641E\u4E00\u4E2A\u4E0B\u54CD\u5E94\u5F0F\u5BF9\u8C61 new Proxy\r\n// 2\uFF09 effect \u9ED8\u8BA4\u6570\u636E\u53D8\u5316\u8981\u80FD\u66F4\u65B0\uFF0C\u6211\u4EEC\u5148\u5C06\u6B63\u5728\u6267\u884C\u7684effect\r\n// \u4F5C\u4E3A\u5168\u5C40\u53D8\u91CF\uFF0C\u6E32\u67D3(\u53D6\u503C),\u6211\u4EEC\u5728get\u65B9\u6CD5\u4E2D\u8FDB\u884C\u4F9D\u8D56\u6536\u96C6\r\n// 3) wackMap (\u5BF9\u8C61\uFF1Amap(\u5C5E\u6027\uFF1Aset(effect)))\r\n// 4) \u7A0D\u540E\u7528\u6237\u53D1\u751F\u6570\u636E\u53D8\u5316\uFF0C\u4F1A\u901A\u8FC7\u5BF9\u8C61\u5C5E\u6027\u6765\u67E5\u627E\u5BF9\u5E94\r\n// \u7684effect\u96C6\u5408\uFF0C\u627E\u5230effect\u5168\u90E8\u6267\u884C", "export  const isObject = (val:any)=>{\r\n  return typeof val === 'object' && val !== null\r\n}\r\n\r\nexport const isFunction = (val)=>{\r\n  return typeof val === 'function'\r\n}\r\nexport const isString = (val)=>{\r\n  return typeof val === 'string'\r\n}\r\nexport const isNumber = (val)=>{\r\n  return typeof val === 'number'\r\n}\r\n\r\n\r\n// export const isArray = (val)=>{\r\n//   return Array.isArray(val)\r\n// }\r\n\r\nexport const isArray = Array.isArray\r\nexport const assign = Object.assign\r\n\r\n\r\nconst hasOwnProperty = Object.prototype.hasOwnProperty\r\n\r\nexport const hasOwn = (v,k)=>hasOwnProperty.call(v,k)\r\n\r\n\r\n\r\nexport const enum ShapeFlags { // \u5F62\u72B6\u6807\u8BC6\r\n  ELEMENT = 1,\r\n  FUNCTIONAL_COMPONENT = 1 << 1,\r\n  STATEFUL_COMPONENT = 1 << 2,\r\n  TEXT_CHILDREN = 1 << 3,\r\n  ARRAY_CHILDREN = 1 << 4,\r\n  SLOTS_CHILDREN = 1 << 5,\r\n  TELEPORT = 1 << 6,\r\n  SUSPENSE = 1 << 7,\r\n  COMPONENT_SHOULD_KEEP_ALIVE = 1 << 8,\r\n  COMPONENT_KEPT_ALIVE = 1 << 9,\r\n  COMPONENT = ShapeFlags.STATEFUL_COMPONENT | ShapeFlags.FUNCTIONAL_COMPONENT\r\n}\r\n\r\n// \u4F4D\u8FD0\u7B97 & | \u9002\u5408\u6743\u9650\u7684\u7EC4\u5408 \r\n// let user = \u589E\u52A0\uFF0801\uFF09 | \u5220\u9664 \uFF0810\uFF09 \uFF1B 11\r\n// user\uFF0811\uFF09 & \u589E\u52A0\uFF0801\uFF09  \u5F97 01  \u6545\u800C\u5224\u65AD\u7528\u6237\u6709\u589E\u52A0\u7684\u6743\u9650\r\n", "import { isObject } from \"@vue/shared\"\r\nimport { reactive } from \"./reactive\"\r\nimport { track,trigger} from \"./effect\"\r\n\r\n// TS \u72EC\u6709  \u679A\u4E3E\r\nexport  const enum ReactiveFlags {\r\n  IS_REACTIVE = '__v_isReactive'\r\n}\r\nexport const mutableHandlers = {\r\n  get(target,key,receiver){\r\n    if(key === ReactiveFlags.IS_REACTIVE){\r\n      return true\r\n    }\r\n    // \u4F9D\u8D56\u6536\u96C6  effect\u548Ckey\u5173\u8054\r\n    // \u4E00\u4E2Aeffect\u53EF\u80FD\u4F9D\u8D56\u591A\u4E2A\u5BF9\u8C61\u7684\u591A\u4E2Akey\r\n    // \u4E00\u4E2A\u5BF9\u8C61\u7684\u67D0\u4E2Akey\u4E5F\u53EF\u80FD\u88AB\u591A\u4E2Aeffect\u5173\u8054\r\n    track(target,\"get\",key)\r\n    \r\n    // return Reflect.get(target,key,receiver)\r\n\r\n    // \u5B9E\u73B0\u6DF1\u5EA6\u4EE3\u7406\r\n    let res = Reflect.get(target,key,receiver)\r\n    // \u5728\u53D6\u503C\u7684\u65F6\u5019 \u518D\u8FDB\u884C\u4EE3\u7406\r\n    // vue2\u4E2D\u662F\u76F4\u63A5\u9012\u5F52\u8FDB\u884C\u4EE3\u7406  \u6240\u4EE5\u6027\u80FD\u5DEE\u4E00\u70B9\r\n    if(isObject(res)){\r\n      return reactive(res)\r\n    }\r\n    return res\r\n    \r\n  },\r\n  set(target,key,value,receiver){\r\n    // \u5148\u5224\u65AD\u65B0\u503C\u548C\u8001\u503C \u662F\u5426\u4E00\u81F4 \u4E0D\u4E00\u81F4\u518D\u89E6\u53D1\u66F4\u65B0\r\n    let oldVal = Reflect.get(target,key,receiver)\r\n    let res = Reflect.set(target,key,value,receiver)\r\n    if(oldVal !== value){\r\n      //\u89E6\u53D1\u66F4\u65B0\r\n      trigger(target,\"set\",key,value,oldVal)\r\n    }\r\n    return res\r\n  }\r\n}\r\n\r\n// \u5BF9\u8C61 \u67D0\u4E2A\u5C5E\u6027 -\u300B\u591A\u4E2Aeffect\r\n// \u6570\u636E\u7ED3\u6784\u8BBE\u8BA1\r\n/**\r\nWeakMap = {\r\n  \u5BF9\u8C61\uFF1Anew Map({\r\n    key(name/age):Set\r\n  })\r\n}\r\n*/", "import { isObject } from \"@vue/shared\";\r\nimport {mutableHandlers} from \"./baseHandler\"\r\n// \u7F13\u5B58\u6240\u6709\u88AB\u4EE3\u7406\u7684\u5BF9\u8C61\r\n// \u9632\u6B62\u7528\u6237\u591A\u6B21\u4EE3\u7406\u540C\u4E00\u4E2A\u5BF9\u8C61\r\n/**\r\n * let obj = {name:zx}\r\n * let state1 = reactive(obj)\r\n * let state2 = reactive(obj)\r\n * console.log(state1 === state2) //false\r\n*/\r\n// WeakMap  key\u53EA\u80FD\u662F\u5BF9\u8C61\r\nconst reactiveMap = new WeakMap() \r\n\r\n\r\n//\u5224\u65AD\u8FD9\u4E2A\u5BF9\u8C61\u6709\u6CA1\u6709\u88AB\u4EE3\u7406\u8FC7\r\n//\u9632\u6B62\u7528\u6237\u4F20\u5165\u4E00\u4E2A\u4EE3\u7406\u8FC7\u7684\u5BF9\u8C61\r\n/**\r\n * let obj = {name:\"zx\"}\r\n * let state1 = reactive(obj)\r\n * let state2 = reactive(state1)\r\n * \r\n*/\r\n//TS \u72EC\u6709  \u679A\u4E3E\r\n// export   const enum ReactiveFlags {\r\n//   IS_REACTIVE = '__v_isReactive'\r\n// }\r\nimport {ReactiveFlags} from \"./baseHandler\"\r\n\r\nexport function isReactive(val){\r\n  return !!(val && val[ReactiveFlags.IS_REACTIVE])\r\n}\r\n\r\n\r\n// 1)  \u5C06\u6570\u636E\u8F6C\u5316\u4E3A\u54CD\u5E94\u5F0F\u6570\u636E\r\nexport function reactive(target){\r\n  //\u9996\u5148\u5FC5\u987B\u662F\u5BF9\u8C61\r\n  if(!isObject(target)) return\r\n  //\u5982\u679C\u7F13\u5B58\u4E2D\u6709\u8FD9\u4E2A\u4EE3\u7406\u5BF9\u8C61 \u5C31\u4E0D\u518D\u8FDB\u884C\u4EE3\u7406\r\n  if(reactiveMap.has(target)){\r\n    return reactiveMap.get(target)\r\n  }\r\n  //\u5982\u679Ctarget\u662F\u4E00\u4E2A\u4EE3\u7406\u8FC7\u7684\u5BF9\u8C61 \u4E5F\u5C31\u4E0D\u518D\u8FDB\u884C\u4EE3\u7406\r\n  if(target[ReactiveFlags.IS_REACTIVE]){\r\n    return target\r\n  }\r\n  //\u5BF9\u4F20\u5165\u7684\u503C\u8FDB\u884C\u4EE3\u7406\r\n  const proxy = new Proxy(target,mutableHandlers)\r\n\r\n  reactiveMap.set(target,proxy)\r\n\r\n  return proxy\r\n}\r\n\r\n//\u4E3A\u4EC0\u4E48\u4E0D\u80FD\u8FD9\u6837\u5199\r\n/**\r\n * let target = {\r\n      _name:\"zx\",\r\n      get  name(){  //\u5BF9\u8C61\u5C5E\u6027\u8BBF\u95EE\u5668\r\n        return this._name\r\n      }\r\n    }\r\n    const proxy = new Proxy(target,{\r\n      get(target,key,receiver){\r\n        return target[key]\r\n      },\r\n      set(target,key,value,receiver){\r\n        target[key] = value\r\n        return true\r\n      }\r\n    })\r\n\r\n    proxy.name\r\n * \r\n*/\r\n\r\n//\u56E0\u4E3A\u83B7\u53D6name\u7684\u65F6\u5019get\u6267\u884C\u4E86\u4E00\u6B21\uFF0C\r\n//\u4F46\u83B7\u53D6 this._name\u65F6get\u672A\u6267\u884C \u56E0\u4E3A\u6B64\u65F6\u7684this\u662Ftarget\u800C\u4E0D\u662F\u4EE3\u7406\u5BF9\u8C61\r\n//\u4F7FReflect\u65F6this\u5C31\u6307\u5411\u4E86\u4EE3\u7406\u5BF9\u8C61 proxy \u4F1A\u6267\u884C\u4E24\u6B21", "import { isFunction } from \"@vue/shared\";\r\nimport {activeEffect, ReactiveEffect,triggerEffects} from \"./effect\"\r\n\r\nclass ComputedRefImpl{\r\n  public effect;\r\n  public _disty  = true; //\u9ED8\u8BA4\u5E94\u8BE5\u53D6\u503C\u7684\u65F6\u5019\u8FDB\u884C\u8BA1\u7B97\r\n  public __v_isReadonly = true\r\n  public __v_isRef = true\r\n  public _value;\r\n  public dep = new Set();\r\n  constructor(getter, public setter){\r\n    // \u6211\u4EEC\u5C06\u7528\u6237\u7684getter\u653E\u5230effect\u4E2D\uFF0C\u8FD9\u91CC\u9762\u7684\r\n    // firName\u548ClastName\u5C31\u4F1A\u88AB\u8FD9\u4E2Aeffect\u6536\u96C6\u8D77\u6765\r\n    this.effect = new ReactiveEffect(getter,()=>{\r\n      //  firName\u548ClastName\u53D8\u5316\u5C31\u4F1A\u6267\u884C\u8FD9\u4E2A\u8C03\u5EA6\u51FD\u6570\r\n      if(!this._disty){\r\n        this._disty = true\r\n        triggerEffects(this.dep)\r\n      }\r\n    })\r\n  }\r\n  // \u7C7B\u4E2D\u7684\u5C5E\u6027\u8BBF\u95EE\u5668 \u5E95\u5C42\u662FObject.defineProperty\r\n  get value(){\r\n    // \u505A\u4F9D\u8D56\u6536\u96C6 \u770B\u8FD9\u4E2A\u8BA1\u7B97\u5C5E\u6027 \u4F9D\u8D56\u4E86\u90A3\u4E9B\u503C\r\n    // \u5F53\u8FD9\u4E9B\u503C\u53D8\u5316\u7684\u65F6\u5019 \u8BA1\u7B97\u5C5E\u6027\u91CD\u65B0\u8BA1\u7B97\r\n    this.dep.add(activeEffect)\r\n    if(this._disty){  //\u8BF4\u660E\u8FD9\u4E2A\u503C\u662F\u810F\u7684\uFF0C\u5C31\u662F\u6539\u8FC7\u7684\r\n      this._disty = false\r\n      this._value = this.effect.run()\r\n    }\r\n    return this._value\r\n  }\r\n  set value(newVal){\r\n    this.setter(newVal)\r\n  }\r\n\r\n}\r\n\r\nexport function computed(getterOrOptions){\r\n  let onlyGetter = isFunction(getterOrOptions)\r\n  let getter,setter;\r\n  if(onlyGetter){\r\n    // \u4F20\u5165\u7684\u662F\u4E2Afunction\r\n    getter = getterOrOptions\r\n    setter = ()=>{console.warn(\"no set\")}\r\n  }else{\r\n    // \u4F20\u5165\u7684\u662F\u4E2Aoptions\r\n    getter = getterOrOptions.get\r\n    setter = getterOrOptions.set\r\n  }\r\n  return new ComputedRefImpl(getter,setter)\r\n}", "import { isFunction, isObject } from \"@vue/shared\";\r\nimport { ReactiveEffect } from \"./effect\";\r\nimport {isReactive} from \"./reactive\"\r\n\r\n\r\nfunction traversal(val, set = new Set()){  //set\u662F\u4E3A\u4E86\u8003\u8651\uFF0C\u5982\u679C\u5BF9\u8C61\u4E2D\u6709\u5FAA\u73AF\u5F15\u7528\u7684\u95EE\u9898\r\n  // \u5224\u65AD\u662F\u4E0D\u662F\u5BF9\u8C61 \u5982\u679C\u4E0D\u662F\u5BF9\u8C61\u5C31\u4E0D\u5728\u8FDB\u884C\u9012\u5F52\r\n  if(!isObject(val)) return val\r\n  if(set.has(val)){\r\n    return val\r\n  }\r\n  set.add(val)\r\n  for(let key in val){\r\n    traversal(val[key],set)\r\n  }\r\n  return val\r\n}\r\n\r\n// source\u662F\u7528\u6237\u4F20\u5165\u7684\u5BF9\u8C61\r\n// cb\u5C31\u662F\u5BF9\u5E94\u7684\u7528\u6237\u7684\u56DE\u8C03\r\nexport function watch(source,cb){\r\n   let getter;\r\n  // \u5148\u5224\u65AD\u662F\u4E0D\u662F\u54CD\u5E94\u5F0F\u6570\u636E\r\n  if(isReactive(source)){\r\n    // \u5BF9source \u8FDB\u884C\u9012\u5F52\u5FAA\u73AF\u8BBF\u95EE\u5BF9\u8C61\u4E0A\u7684\u6BCF\u4E00\u4E2A\u5C5E\u6027\r\n    // \u8BBF\u95EE\u5C5E\u6027\u7684\u65F6\u5019 \u4F1A\u6536\u96C6effect\r\n    getter = ()=>traversal(source)\r\n  }else  if(isFunction(source)){\r\n    // \u5224\u65AD\u4F20\u7684\u662F\u4E0D\u662F\u4E2A\u51FD\u6570\r\n    getter = source\r\n  }else{\r\n    return  \r\n  }\r\n  let cleanup;\r\n  const onCleanup = (fn)=>{\r\n    cleanup  = fn\r\n  }\r\n  \r\n  let oldVal;\r\n\r\n  const job = ()=>{\r\n    if(cleanup)  cleanup(); //\u4E0B\u4E00\u6B21watch\u5F00\u59CB\u89E6\u53D1\u4E0A\u4E00\u6B21\u7684cleanup\r\n    const newVal = effect.run()\r\n    cb(newVal,oldVal,onCleanup)\r\n    oldVal = newVal\r\n  }\r\n  const effect = new ReactiveEffect(getter,job)\r\n  oldVal =  effect.run()\r\n}", "import { isArray, isObject } from \"@vue/shared\"\r\nimport { triggerEffects ,activeEffect} from \"./effect\";\r\nimport { reactive} from \"./reactive\"\r\n\r\nfunction toReactive(val){\r\n  return isObject(val) ? reactive(val):val\r\n}\r\n\r\n\r\nclass RefImpl{\r\n  public _value;\r\n  public dep = new Set()\r\n  public __v_isRef = true\r\n  constructor(public rawVal){\r\n    this._value = toReactive(rawVal)\r\n  }\r\n  get value(){  \r\n    this.dep.add(activeEffect)\r\n    return this._value\r\n  }\r\n  set value(newVal){\r\n    // \u5982\u679C\u65B0\u503C \u4E0D\u7B49 \u8001\u503C \u518D\u66F4\u65B0\r\n    if(newVal !== this.rawVal){\r\n      this._value = toReactive(newVal)\r\n      this.rawVal = newVal\r\n      triggerEffects(this.dep)\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport function ref(val){\r\n  return new RefImpl(val)\r\n}\r\n\r\n\r\n// \u53EA\u662F\u5C06.value\u5C5E\u6027\u4EE3\u7406\u5230\u539F\u59CB\u5BF9\u8C61\u4E0A\r\nclass ObjectRefImpl{\r\n  constructor(public object,public key){}\r\n  get value(){\r\n    return this.object[this.key]\r\n  }\r\n\r\n  set value(newVal){\r\n    this.object[this.key] = newVal\r\n  }\r\n}\r\n\r\nfunction toRef(object,key){\r\n  return new ObjectRefImpl(object,key)\r\n\r\n}\r\n\r\nexport function toRefs(object){\r\n  const result = isArray(object) ? new Array(object.length) : {}\r\n  \r\n  for(let key in object){\r\n    result[key] = toRef(object,key)\r\n  }\r\n\r\n  return result\r\n\r\n}\r\n\r\nexport function proxyRefs(object){\r\n  return new Proxy(object,{\r\n    get(target,key,recevier){\r\n      let r = Reflect.get(target,key,recevier)\r\n      return r.__v_isRef ? r.value : r\r\n    },\r\n    set(target,key,value,recevier){\r\n      let oldVal = Reflect.get(target,key,recevier)\r\n      if(oldVal.__v_isRef){\r\n        oldVal.value = value\r\n        return true\r\n      }else{\r\n        return Reflect.set(target,key,value,recevier)\r\n      }\r\n    }\r\n    \r\n  })\r\n\r\n}", "import { reactive } from \"@vue/reactivity\";\r\nimport { hasOwn } from \"@vue/shared\";\r\n\r\nexport function initProps(instance,rawProps){\r\n  // instance  \u7EC4\u4EF6\u4E0A\u5B9A\u4E49\u7684props\r\n  // rawProps \u7528\u6237\u4F20\u5165\u7684\r\n\r\n  const props = {};\r\n  const attrs = {};\r\n\r\n\r\n  const options = instance.propsOptions || {}\r\n\r\n  if(rawProps){\r\n    for(let key in rawProps){\r\n      const val = rawProps[key]\r\n      if(hasOwn(options,key)){\r\n        props[key] = val\r\n      }else{\r\n        attrs[key] = val\r\n      }\r\n    }\r\n  }\r\n  // console.log(props)\r\n  // console.log(attrs)\r\n\r\n  // \u8FD9\u91CC\u7684props \u4E0D\u5E0C\u671B\u5728\u7EC4\u4EF6\u5185\u90E8\u88AB\u66F4\u6539 \u4F46\u662Fprops\u5FC5\u987B\u662F\u54CD\u5E94\u5F0F\u7684\r\n  // \u56E0\u4E3A\u540E\u7EED\u5C5E\u6027\u53D8\u4E86 \u9700\u8981\u66F4\u65B0\u89C6\u56FE \u7528\u7684\u5E94\u8BE5\u662F shallowReactive\r\n  instance.props = reactive(props)\r\n  instance.attrs = attrs\r\n\r\n}\r\n\r\nexport const hasPropsChanged = (prevProps = {},nextProps = {})=>{\r\n  const nextKeys = Object.keys(nextProps)\r\n  // \u6BD4\u5BF9\u5C5E\u6027\u524D\u540E \u4E2A\u6570\u662F\u5426\u4E00\u81F4  \u4E0D\u4E00\u81F4\u5C31\u9700\u8981\u66F4\u65B0\r\n  if(nextKeys.length !==  Object.keys(prevProps).length){\r\n    return true\r\n  }\r\n  // \u518D\u6BD4\u5BF9\u5C5E\u6027\u524D\u540E\u7684\u503C \u662F\u5426\u4E00\u81F4 \u4E0D\u4E00\u81F4\u4E5F\u8981\u66F4\u65B0\r\n  for(let i = 0 ; i < nextKeys.length ;i++){\r\n    const key = nextKeys[i]\r\n    if(nextProps[key] !== prevProps[key]){\r\n      return true\r\n    }\r\n  }\r\n  return  false\r\n}\r\n\r\n\r\n/* export function updateProps(instance,prevProps,nextProps){\r\n  //\u770B\u4E0B\u5C5E\u6027\u6709\u6CA1\u6709\u53D8\u5316\r\n\r\n  // \u5C5E\u6027\u7684\u4E2A\u6570  \u5C5E\u6027\u7684\u503C \u662F\u5426\u53D1\u751F\u53D8\u5316\r\n  if(hasPropsChanged(prevProps,nextProps)){\r\n    for(const key in nextProps){\r\n      instance.props[key] = nextProps[key]\r\n    }\r\n  //  \u4EE5\u524D\u6709\u7684 \u73B0\u5728\u6CA1\u6709\u4E86 \u5220\u6389\u4EE5\u524D\u7684\r\n    for(const key in instance.props){\r\n      if(!hasOwn(nextProps,key)){\r\n        delete instance.props[key]\r\n      }\r\n    }\r\n  }\r\n} */\r\n\r\nexport function updateProps(prevProps,nextProps){\r\n    for(const key in nextProps){\r\n      prevProps[key] = nextProps[key]\r\n    }\r\n    \r\n    for(const key in prevProps){\r\n      if(!hasOwn(nextProps,key)){\r\n        delete prevProps[key]\r\n      }\r\n    }\r\n}", "import { proxyRefs, reactive } from \"@vue/reactivity\"\r\nimport { hasOwn, isFunction, isObject, ShapeFlags } from \"@vue/shared\"\r\nimport { initProps } from \"./componentProps\"\r\n\r\nexport function createComponentInstance(vnode){\r\n  // \u7EC4\u4EF6\u7684\u5B9E\u4F8B\r\n  const instance = {\r\n    data:null,\r\n    vnode, //v2\u4E2D\u7EC4\u4EF6\u7684\u865A\u62DF\u8282\u70B9\u53EB$vnode \u6E32\u67D3\u7684\u5185\u5BB9\u53EB _vnode\r\n    subTree:null, //V3\u4E2D\u7EC4\u4EF6\u7684\u865A\u62DF\u8282\u70B9\u53EBvnode \u6E32\u67D3\u7684\u8282\u70B9\u53EBsubTree\r\n    isMounted:false,   //\u7EC4\u4EF6\u662F\u5426\u6302\u8F7D\r\n    update:null,\r\n    propsOptions:vnode.type.props,\r\n    props:{},\r\n    attrs:{},\r\n    proxy:null,\r\n    render:null,\r\n    setupState:{},\r\n    slots:{} //\u63D2\u69FD\u76F8\u5173\r\n  }\r\n  \r\n  return instance\r\n}\r\n\r\nconst publicPropertyMap = {\r\n  $attrs:(i)=>i.attrs,\r\n  $slots:(i)=>i.slots,\r\n}\r\n\r\nfunction initSlots(instance,children){\r\n  if(instance.vnode.shapeFlag & ShapeFlags.SLOTS_CHILDREN){\r\n    instance.slots = children\r\n  }\r\n}\r\n\r\nexport function setupComponent(instance){\r\n  let {props,type,children} = instance.vnode\r\n  initProps(instance,props)\r\n  initSlots(instance,children) //\u521D\u59CB\u5316\u63D2\u69FD\r\n\r\n  instance.proxy = new Proxy(instance,{\r\n    get(target,key){\r\n      const {data,props,setupState} = target\r\n      if(data && hasOwn(data,key)){\r\n        return data[key]\r\n      }else if(props && hasOwn(setupState,key)){\r\n        return setupState[key]\r\n      }else if(props && hasOwn(props,key)){\r\n        return props[key]\r\n      }\r\n\r\n      let getter = publicPropertyMap[key] //this.$attrs\r\n      \r\n      if(getter){\r\n        return getter(target)\r\n      }\r\n    },\r\n    set(target,key,val){\r\n      const {data,props,setupState} = target\r\n      if(data && hasOwn(data,key)){\r\n        data[key] = val\r\n        return true\r\n      }else if(data && hasOwn(setupState,key)){\r\n        setupState[key] = val\r\n        return true\r\n      }else if(props && hasOwn(props,key)){\r\n        //\u7528\u6237\u64CD\u4F5C\u7684\u5C5E\u6027\u662F\u4EE3\u7406\u5BF9\u8C61 \u8FD9\u91CC\u5C4F\u853D\u4E86\r\n      // \u4F46\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7instance.props \u62FF\u5230\u771F\u5B9E\u7684props\r\n      \r\n        console.warn(\"\u7EC4\u4EF6\u5185\u4E0D\u80FD\u4FEE\u6539\u7EC4\u4EF6\u7684props\" + (key as string));\r\n        return false\r\n      }\r\n\r\n      return true\r\n\r\n    }\r\n  })\r\n\r\n  let data = type.data\r\n\r\n  if(data){\r\n      if(!isFunction(data)){\r\n       return  console.warn(\"data\u5FC5\u987B\u662Ffunction\");\r\n      }\r\n\r\n      instance.data = reactive(data.call(instance.proxy))\r\n  }\r\n  \r\n\r\n  let setup = type.setup\r\n  // console.log(type);\r\n  \r\n\r\n  if(setup){\r\n    const setupContext = { //\u5178\u578B\u7684\u53D1\u5E03\u8BA2\u9605\u6A21\u5F0F\r\n      // \u4E8B\u4EF6\u7684\u5B9E\u73B0\u539F\u7406\r\n      emit:(event,...args)=>{\r\n        const eventName = `on${event[0].toUpperCase()}${event.slice(1)}`\r\n        const handler = instance.vnode.props[eventName]\r\n        handler && handler(...args)\r\n      },\r\n      attrs:instance.attrs,\r\n      slots:instance.slots\r\n    }\r\n    const setupResult = setup(instance.props,setupContext)\r\n\r\n    if(isFunction(setupResult)){\r\n      // setup \u8FD4\u56DE\u7684\u662Frender\r\n      instance.render = setupResult\r\n    }else if(isObject(setupResult)){\r\n      // \u6A21\u677F\u4E2D\u7684ref\u5C31\u4E0D\u7528\u53BB.value\u4E86\r\n      instance.setupState = proxyRefs(setupResult)\r\n    }\r\n    \r\n  }\r\n\r\n  if(!instance.render){\r\n    instance.render = type.render\r\n  }\r\n\r\n\r\n\r\n}\r\n", "let queue = [] //\u7EF4\u62A4\u4E00\u4E2A\u4EFB\u52A1\u961F\u5217\r\n\r\nlet isFlushing = false //\u662F\u5426\u6B63\u5728\u5237\u65B0\r\n\r\nconst resolvePromise = Promise.resolve()\r\n\r\n\r\nexport function queueJob(job){\r\n  if(!queue.includes(job)){\r\n    queue.push(job)\r\n  }\r\n\r\n  if(!isFlushing){ //\u6279\u5904\u7406\u903B\u8F91\r\n    isFlushing = true\r\n    \r\n    resolvePromise.then(()=>{\r\n      isFlushing = false\r\n\r\n      let copyQueue = queue.slice(0)\r\n      queue.length = 0\r\n      for(let i = 0 ; i < copyQueue.length ; i++){\r\n        let job = copyQueue[i]\r\n        job()\r\n      }\r\n\r\n      \r\n      copyQueue.length = 0\r\n    })\r\n  }\r\n\r\n}", "\r\n// \u4E00\u4E2A\u865A\u62DF\u8282\u70B9 \u9700\u8981\u6709 \r\n// type props  children\r\n\r\nimport { isArray, isObject, isString, ShapeFlags } from \"@vue/shared\";\r\n\r\nexport const Text = Symbol(\"Text\")\r\nexport const Fragment = Symbol(\"Fragment\")\r\n\r\nexport function isVnode(val){\r\n  return !!(val && val.__v_isVnode) \r\n}\r\n\r\nexport function isSameVnode(n1,n2){\r\n  // \u5224\u65AD\u4E24\u4E2A\u865A\u62DF\u8282\u70B9\u662F\u4E0D\u662F\u540C\u4E00\u4E2A\r\n  /**\r\n   *  - \u6807\u7B7E\u540D\u76F8\u540C\r\n   *  - key\u4E00\u6837\r\n  */\r\n return (n1.type === n2.type) && (n1.key === n2.key)\r\n\r\n}\r\n\r\n// \u865A\u62DF\u8282\u70B9\u6709\u5F88\u591A\uFF1A\u6BD4\u5982\uFF1A\u7EC4\u4EF6 \u5143\u7D20 \u6587\u672C\r\nexport function createVnode(type,props,children = null){\r\n  //\u7EC4\u5408\u65B9\u6848 shapeFlag  \u6807\u8BC6\r\n  //\u6211\u60F3\u77E5\u9053\u4E00\u4E2A\u5143\u7D20\u4E2D\u5305\u542B\u7684\u662F\u591A\u4E2A\u513F\u5B50\u8FD8\u662F\u4E00\u4E2A\u513F\u5B50\r\n\r\n  let shapeFlag = \r\n  //string  \u8BF4\u660E\u662F\u5143\u7D20\r\n  isString(type) ? ShapeFlags.ELEMENT : \r\n  // object \u8BF4\u660E\u662F\u7EC4\u4EF6\r\n  isObject(type) ? ShapeFlags.STATEFUL_COMPONENT : 0;\r\n\r\n\r\n  // \u865A\u62DFdom\u5C31\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u65B9\u4FBFdiff\u7B97\u6CD5\r\n  const vnode = {\r\n    type,\r\n    props,\r\n    children,\r\n    el:null,//\u865A\u62DF\u8282\u70B9\u4E0A\u5BF9\u5E94\u7684\u771F\u662F\u8282\u70B9\uFF0C\u540E\u7EEDdiff\u7B97\u6CD5\r\n    key:props?.['key'],\r\n    __v_isVnode:true,\r\n    shapeFlag\r\n  }\r\n\r\n  if(children){\r\n    let type = 0;\r\n    if(isArray(children)){\r\n      type = ShapeFlags.ARRAY_CHILDREN\r\n    }else if(isObject(children)){\r\n      // \u5982\u679C\u662F\u5BF9\u8C61  \u8868\u793A\u7EC4\u4EF6\u5E26\u6709\u63D2\u69FD\r\n      type = ShapeFlags.SLOTS_CHILDREN\r\n    }else{\r\n      children = String(children)\r\n      type = ShapeFlags.TEXT_CHILDREN\r\n    }\r\n    vnode.shapeFlag = shapeFlag | type\r\n  }\r\n\r\n  return vnode\r\n}", "import { ReactiveEffect } from \"@vue/reactivity\"\r\nimport { isNumber, isString, ShapeFlags } from \"@vue/shared\"\r\nimport { createComponentInstance, setupComponent } from \"./component\"\r\nimport { hasPropsChanged, updateProps } from \"./componentProps\"\r\nimport {queueJob} from './scheduler'\r\nimport { createVnode,Text,isSameVnode, Fragment } from \"./vnode\"\r\n\r\nexport function createRenderer(renderOptions){\r\n\r\n  let {\r\n  // \u589E\u52A0\r\n  insert:hostInsert,\r\n  // \u5220\u9664\r\n  remove:hostRemove,\r\n  // \u4FEE\u6539\r\n  // \u4FEE\u6539\u6587\u672C\u5185\u5BB9\r\n  setElementText:hostSetElementText,\r\n  // \u4FEE\u6539\u6587\u672C\u5143\u7D20\r\n  setText:hostSetText,\r\n  parentNode:hostParentNode,\r\n  nextSibling:hostNextSibling,\r\n  // \u521B\u5EFA\r\n  createElement:hostCreateElement,\r\n  // \u521B\u5EFA\u6587\u672C\r\n  createText:hostCreateText,\r\n  // \u5C5E\u6027\u64CD\u4F5C\r\n  patchProp:hostPatchProp\r\n\r\n} = renderOptions\r\n\r\n\r\n  const normalize = (children,i)=>{\r\n    // \u5C06 \u5B57\u7B26\u4E32\u6587\u672C \u8F6C\u4E3A \uFF08Text,\"\u5B57\u7B26\u4E32\"\uFF09\r\n    if(isString(children[i]) || isNumber(children[i])){\r\n       let vnode =  createVnode(Text,null,children[i])\r\n       children[i] = vnode\r\n    }\r\n    return children[i] \r\n  }\r\n\r\n  const mountChildren = (el,children)=>{\r\n    for(let i = 0 ; i < children.length;i++){\r\n      let child = normalize(children,i)\r\n      patch(null,child,el)\r\n    }\r\n  }\r\n\r\n\r\n  const mountElement = (vnode,container,anchor)=>{\r\n    let {type,props,children,shapeFlag} = vnode\r\n    // \u5C06\u521B\u5EFA\u7684\u771F\u5B9E\u5143\u7D20\u6302\u8F7D\u5230\u865A\u62DF\u8282\u70B9\u4E0A\uFF0C\u540E\u7EED\u65B9\u4FBF\u590D\u7528\u8282\u70B9\u548C\u66F4\u65B0\r\n    let el = vnode.el = hostCreateElement(type)\r\n\r\n    if(props){\r\n\r\n      for(let key in props){\r\n        hostPatchProp(el,key,null,props[key])\r\n      }\r\n\r\n    }\r\n\r\n    if(shapeFlag & ShapeFlags.TEXT_CHILDREN){\r\n      // \u5224\u65ADchildren\u662F\u4E0D\u662F\u6587\u672C\u8282\u70B9\r\n      hostSetElementText(el,children)\r\n\r\n    }else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN){\r\n      // \u5224\u65ADchildren\u662F\u4E2A\u6570\u7EC4\r\n      mountChildren(el,children)\r\n\r\n    }\r\n\r\n\r\n    // \u5C06\u521B\u5EFA\u7684\u5143\u7D20\u63D2\u5165\u5230\u5BB9\u5668\u4E2D\r\n    hostInsert(el,container,anchor)\r\n\r\n\r\n  }\r\n\r\n  const processText = (oldN,newN,container)=>{\r\n    if(oldN === null){\r\n      // \u6587\u672C\u521D\u6B21\u6E32\u67D3\r\n      hostInsert((newN.el = hostCreateText(newN.children)),container)\r\n    }else{\r\n      // \u6587\u672C\u66F4\u65B0 \u8282\u70B9\u590D\u7528 \u53EA\u6539\u6587\u672C\r\n      const el = newN.el = oldN.el\r\n      if(newN.children !== oldN.children){\r\n        hostSetText(el,newN.children)\r\n      }\r\n    }\r\n  }\r\n\r\n  const patchProps = (oldProps,newProps,el) => {\r\n    // \u65B0\u7684\u91CC\u9762\u6709\uFF0C\u76F4\u63A5\u7528\u65B0\u7684\u76D6\u6389\u8001\u7684\r\n    for(let key in newProps){\r\n      hostPatchProp(el,key,oldProps[key],newProps[key])\r\n    }\r\n    // \u5982\u679C\u8001\u7684\u91CC\u9762\u6709 \u65B0\u7684\u6CA1\u6709  \u5219\u662F\u5220\u9664\r\n    for(let key in oldProps){\r\n      if(newProps[key] == null){\r\n        hostPatchProp(el,key,oldProps[key],undefined)\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n\r\n  const unmountChildren = (children)=>{\r\n    for(let i = 0 ; i < children.length ; i++){\r\n      unmount(children[i])\r\n    }\r\n  }\r\n\r\n  const patchKeyChildren = (c1,c2,el)=>{\r\n    // \u6BD4\u8F83\u4E24\u4E2A\u513F\u5B50\u7684\u5DEE\u5F02\r\n    let i = 0;\r\n    let e1 = c1.length - 1;\r\n    let e2 = c2.length - 1;\r\n  \r\n    //\u5148\u5904\u7406\u7279\u6B8A\u60C5\u51B5 \u4E5F\u5C31\u662F\u6700\u7B80\u5355\u7684\r\n\r\n    /**\r\n     * \u65E7  a   b   c        |  a   b   c\r\n     *                      |\r\n     * \u65B0  a   b   c   d    |  a   b\r\n     * \r\n     */\r\n\r\n    // sync from start\r\n\r\n    while(i <= e1 && i <= e2){\r\n      const n1 = c1[i]\r\n      const n2 = c2[i]\r\n      if(isSameVnode(n1,n2)){ //\u6BD4\u8F83\u4E24\u4E2A\u8282\u70B9\u7684\u5C5E\u6027\u548C\u5B50\u8282\u70B9\r\n        patch(n1,n2,el)  //\u7EE7\u7EED\u6BD4\u8F83\u513F\u5B50\r\n      }else{\r\n        break;\r\n      }\r\n      i++\r\n    }\r\n\r\n\r\n     /**\r\n     * \u65E7      a   b   c   |    a   b   c\r\n     *                     |\r\n     * \u65B0  d   a   b   c   |        b   c\r\n     *    \r\n     *     i     \r\n     * \r\n     * \u8BA1\u7B97\u4E4B\u540E  i == 0 e1 == -1 e2 == 0\r\n     */\r\n\r\n      // sync from end\r\n\r\n      while(i <= e1 && i <= e2){\r\n        const n1 = c1[e1]\r\n        const n2 = c2[e2]\r\n        if(isSameVnode(n1,n2)){ //\u6BD4\u8F83\u4E24\u4E2A\u8282\u70B9\u7684\u5C5E\u6027\u548C\u5B50\u8282\u70B9\r\n          patch(n1,n2,el)  //\u7EE7\u7EED\u6BD4\u8F83\u513F\u5B50\r\n        }else{\r\n          break;\r\n        }\r\n        e1--;\r\n        e2--;\r\n      }\r\n      \r\n\r\n\r\n      // common sequence + mount (\u540C\u5E8F\u5217\u6302\u8F7D)\r\n      // i \u8981\u6BD4 e1 \u5927 \u8BF4\u660E\u6709\u65B0\u589E\u7684\r\n      // i \u548C   e2 \u4E4B\u95F4\u7684\u662F\u9700\u8981\u65B0\u589E\u7684\u90E8\u5206\r\n\r\n      if(i > e1){\r\n        if(i <= e2){\r\n          while(i <= e2){\r\n            const nextPos = e2 + 1;\r\n            // \u6839\u636E\u4E0B\u4E00\u4E2A\u4EBA\u7684\u7D22\u5F15\u6765\u770B\u53C2\u7167\u7269\r\n            const anchor = nextPos < c2.length ? c2[nextPos].el : null\r\n            patch(null,c2[i],el,anchor) //\u521B\u5EFA\u65B0\u589E\u90E8\u5206\u7684\u5143\u7D20\r\n            i++;\r\n          }\r\n        }\r\n      }else if( i > e2){\r\n         // common sequence + unmount (\u540C\u5E8F\u5217\u5378\u8F7D)\r\n        // i \u8981\u6BD4 e2 \u5927 \u8BF4\u660E\u6709\u5378\u8F7D\u7684\r\n        // i \u548C   e1 \u4E4B\u95F4\u7684\u662F\u9700\u8981\u5378\u8F7D\u7684\u90E8\u5206\r\n\r\n        /**\r\n         * \u65E7  a   b   c \r\n         * \r\n         * \u65B0      b   c\r\n         * \r\n         * */\r\n        if(i <= e1){\r\n            while(i <= e1){\r\n              unmount(c1[i])\r\n              i++\r\n            }\r\n        }\r\n      }\r\n\r\n      // \u7279\u6B8A\u7684\u5904\u7406\u5B8C\u6BD5 \u00B7\u00B7\r\n      // \u5F00\u59CB\u4E71\u5E8F\u6BD4\u8F83\r\n\r\n        /**\r\n         * \u65E7  a   b   c   d   e      f  g\r\n         * \r\n         * \u65B0  a   b   e   c   d   h  f  g\r\n         * \r\n         * */\r\n\r\n\r\n     let s1 = i\r\n     let s2 = i\r\n     const keyToNewIndexMap = new Map()\r\n\r\n    //  \u5148\u5C06\u65B0\u7684\u5B58\u8D77\u6765\r\n     for(let i = s2; i <= e2 ;i++){\r\n      \r\n        keyToNewIndexMap.set(c2[i].key,i)\r\n\r\n     }\r\n    //  console.log(keyToNewIndexMap);\r\n    // \u5FAA\u73AF\u8001\u7684\u5143\u7D20 \u770B\u4E00\u4E0B\u65B0\u7684\u91CC\u9762\u6709\u6CA1\u6709\r\n    // \u5982\u679C\u6709\u9700\u8981\u6BD4\u8F83\u5DEE\u5F02 \u6CA1\u6709\u5C31\u5220\u9664\r\n\r\n    const toBePatched = e2 - s2 + 1; //\u65B0\u7684\u603B\u4E2A\u6570\r\n    // \u8BB0\u5F55\u662F\u5426\u6BD4\u5BF9\u8FC7\u7684\u6620\u5C04\u8868\r\n    const newIndexToOldIndexArr = new Array(toBePatched).fill(0)\r\n\r\n    \r\n    for(let i = s1 ; i <= e1 ;i++){\r\n      const oldChild = c1[i] //\u8001\u7684\u5B69\u5B50\r\n      let newIndex = keyToNewIndexMap.get(oldChild.key) //\u65B0\u5B69\u5B50\u7684\u7D22\u5F15\r\n      if(newIndex === undefined){\r\n        unmount(oldChild)\r\n      }else{\r\n        // \u65B0\u7684\u4F4D\u7F6E  \u5BF9\u5E94\u7684\u8001\u7684\u4F4D\u7F6E\r\n        newIndexToOldIndexArr[newIndex - s2] = i + 1;\r\n        patch(oldChild,c2[newIndex],el)\r\n      }\r\n     }\r\n\r\n     //  \u83B7\u53D6\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\r\n    let increment = getSequence(newIndexToOldIndexArr)\r\n\r\n    // \u9700\u8981\u79FB\u52A8\u4F4D\u7F6E\r\n    let j = increment.length - 1\r\n    for(let i = toBePatched - 1 ; i >= 0 ; i--){\r\n      let index = i + s2\r\n      let current = c2[index]\r\n      let anchor =  index + 1 < c2.length ? c2[index + 1].el  : null;\r\n      if(newIndexToOldIndexArr[i] === 0){\r\n        // \u521B\u5EFA\r\n        patch(null,current,el,anchor)\r\n      }else{\r\n        if(i !== increment[j]){\r\n           // \u5BF9\u6BD4\u8FC7\u7684 \u76F4\u63A5\u63D2\u5165  \u590D\u7528\u4E86\u8001\u8282\u70B9\r\n          hostInsert(current.el,el,anchor)\r\n        }else{\r\n          j--\r\n        }\r\n      }\r\n    } \r\n\r\n\r\n\r\n     \r\n\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  \r\n  //\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\r\n  /**\r\n   * [5,3,4,0]\r\n   *  \u6240\u4EE5 3\u548C4\u4E0D\u7528\u52A8 \u53EA\u8981\u52A85\u5C31\u884C\r\n   * \r\n  */\r\n\r\n  /**\r\n   *  3 2 8 9 5 6 7 11 15\r\n   * \r\n   * - 2 8 9 11 15\r\n   * - 2 5 6 7 11 15  \u8FD9\u4E2A\u662F\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217  \r\n   * \r\n  */\r\n  // \u7B97\u7684\u662F\u4E2A\u6570  \r\n  // \u8D2A\u5FC3\u7B97\u6CD5 + \u4E8C\u5206\u67E5\u627E  \r\n  // \u627E\u6700\u6709\u6F5C\u529B\u7684\r\n  // 3\r\n  // 2\r\n  // 2 8\r\n  // 2 8 9  \u548C 5 \u6BD4 \u4E8C\u5206\r\n  // 2 5 9  \u548C 6 \u6BD4 \u4E8C\u5206\r\n  // 2 5 6  \r\n  // 2 5 6 7\r\n  // 2 5 6 11\r\n  // 2 5 6 11 15\r\n\r\n  /**\r\n   * \u601D\u8DEF\r\n   * 1:\u5F53\u524D\u8FD9\u4E00\u9879\u6BD4\u6211\u4EEC\u6700\u540E\u4E00\u9879\u5927\uFF0C\u5219\u76F4\u63A5\u653E\u5230\u672B\u5C3E\r\n   * 2\uFF1A\u5982\u679C\u5F53\u524D\u8FD9\u4E00\u9879\u6BD4\u6700\u540E\u4E00\u9879\u5C0F\uFF0C\u9700\u8981\u5728\u5E8F\u5217\u901A\u8FC7\u4E8C\u5206\u67E5\u627E\u5230\u6BD4\u5F53\u524D\u5927\u7684\u8FD9\u4E00\u9879\uFF0C\u7528\u4ED6\u6765\u66FF\u6362\u6389\r\n   * 3\uFF1A\u6700\u4F18\u7684\u60C5\u51B5\uFF0C\u5C31\u662F\u9ED8\u8BA4\u9012\u589E\u7684\r\n  */\r\n\r\n  function getSequence(arr){\r\n    const len = arr.length\r\n\r\n    // \u4F7F\u7528\u6807\u8BB0\u7D22\u5F15\u7684\u65B9\u5F0F \u6700\u7EC8\u901A\u8FC7\u6700\u540E\u4E00\u9879\u5C06\u7ED3\u679C\u8FD8\u539F\r\n    const p = new Array(len).fill(0) /** */\r\n\r\n    const result = [0]\r\n\r\n    let start,end,middle;\r\n    let resultLastIndex;\r\n\r\n    for(let i = 0 ; i < len ; i++){\r\n      let arrI = arr[i]\r\n      if(arrI !== 0){\r\n        resultLastIndex = result[result.length - 1]\r\n        // \u6BD4\u8F83\u6700\u540E\u4E00\u9879\u548C\u5F53\u524D\u9879\u7684\u503C\r\n        // \u5982\u679C\u5F53\u524D\u7684\u6BD4\u6700\u540E\u4E00\u9879\u5927 \u5219\u5C06\u5F53\u524D\u7D22\u5F15\u52A0\u5165\r\n        if(arr[resultLastIndex] < arrI){\r\n          result.push(i)\r\n\r\n          // \u5F53\u524D\u653E\u5728\u672B\u5C3E\u7684\u8981\u8BB0\u4F4F\u4ED6\u524D\u9762\u7684\u90A3\u4E2A\u4EBA\u662F\u8C01\r\n          p[i] = resultLastIndex /** */\r\n          continue\r\n        }\r\n        // \u8FD9\u91CC\u6211\u4EEC\u9700\u8981\u901A\u8FC7\u4E8C\u5206\u67E5\u627E\uFF0C\u5728\u7ED3\u679C\u96C6\u4E2D\u627E\u5230\u6BD4\u5F53\u524D\u503C\u6700\u5927\u7684\uFF0C\u7528\u5F53\u524D\u503C\u7684\u7D22\u5F15\u5C06\u5176\u66FF\u6362\u6389\r\n\r\n        // \u9012\u589E\u5E8F\u5217  \u91C7\u7528\u4E8C\u5206\u67E5\u627E \r\n        start = 0 ; \r\n        end = result.length - 1;\r\n\r\n        while(start < end){\r\n          middle = ((start + end)/2)|0\r\n\r\n          if(arr[result[middle]] < arrI){\r\n            start = middle + 1\r\n          }else{\r\n            end = middle\r\n          }\r\n        }\r\n\r\n        // \u627E\u5230\u9700\u8981\u66FF\u6362\u7684  \u76F4\u63A5\u66FF\u6362\r\n        // \u7528\u5F53\u524D\u8FD9\u4E00\u9879 \u66FF\u6362\u6389\u5DF2\u6709\u7684 \u6BD4\u5F53\u524D\u5927\u7684\u54EA\u4E00\u9879\u3002\r\n        // \u627E\u66F4\u6709\u6F5C\u529B\u7684\r\n        if(arr[result[end]] > arrI){\r\n          result[end] = i\r\n          p[i] = result[end - 1] /** */\r\n        }\r\n      }\r\n    }\r\n\r\n  // \u901A\u8FC7\u6700\u540E\u4E00\u9879\u8FDB\u884C\u56DE\u6EAF\r\n    ;let i = result.length\r\n    let last = result[i - 1]\r\n    while(i-- > 0){\r\n      result[i] = last\r\n      last = p[last]\r\n    }\r\n\r\n\r\n    return result\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  const patchChildren = (oldN,newN,el)=>{\r\n    // \u6BD4\u8F83\u4E24\u4E2A\u865A\u62DF\u8282\u70B9\u7684\u513F\u5B50\u7684\u5DEE\u5F02\r\n    // el\u5C31\u662F\u5F53\u524D\u7684\u7236\u8282\u70B9\r\n    const c1 = oldN && oldN.children\r\n    const c2 = newN && newN.children\r\n\r\n    // \u83B7\u53D6\u4E4B\u524D\u548C\u5F53\u524D\u9700\u8981\u66F4\u65B0\u7684\u8282\u70B9 shapeFlag\r\n\r\n    const prevShapeFlag = oldN.shapeFlag\r\n    const activeShapeFlag = newN.shapeFlag\r\n\r\n    // \u513F\u5B50\u53EF\u80FD\u662F  \u6587\u672C \u7A7A\u7684null \u6216\u8005 \u6570\u7EC4\r\n    // \u6BD4\u8F83\u4E24\u4E2A\u513F\u5B50\u5217\u8868\u7684\u5DEE\u5F02\r\n    /**\r\n     * \r\n     * -  \u65B0\u513F\u5B50    \u65E7\u513F\u5B50    \u64CD\u4F5C\u65B9\u5F0F\r\n     *  \r\n     *    \u6587\u672C      \u6570\u7EC4      \u5220\u9664\u65E7\u513F\u5B50\uFF0C\u8BBE\u7F6E\u6587\u672C\u5185\u5BB9\r\n     *    \u6587\u672C      \u6587\u672C      \u66F4\u65B0\u6587\u672C\u5373\u53EF\r\n     *    \u6587\u672C       \u7A7A       \u540C\u4E0A\uFF08\u66F4\u65B0\u6587\u672C\u5373\u53EF\uFF09\r\n     * \r\n     *    \u6570\u7EC4       \u6570\u7EC4      diff\u7B97\u6CD5\r\n     *    \u6570\u7EC4       \u6587\u672C      \u6E05\u7A7A\u6587\u672C \uFF0C\u8FDB\u884C\u6302\u8F7D\r\n     *    \u6570\u7EC4        \u7A7A        \u76F4\u63A5\u8FDB\u884C\u6302\u8F7D\r\n     * \r\n     *    \u7A7A        \u6570\u7EC4        \u5220\u9664\u6240\u6709\u513F\u5B50\r\n     *    \u7A7A        \u6587\u672C        \u6E05\u7A7A\u6587\u672C\r\n     *    \u7A7A        \u7A7A          \u4E0D\u5904\u7406\r\n    */\r\n   if(activeShapeFlag & ShapeFlags.TEXT_CHILDREN){\r\n    // \u73B0\u5728\u53D8 \u6587\u672C\r\n    if(prevShapeFlag & ShapeFlags.ARRAY_CHILDREN){\r\n      // \u5982\u679C\u539F\u6765\u7684\u662F\u6570\u7EC4  \u5148\u5220\u9664\u6240\u6709\u7684\u5B50\u8282\u70B9\r\n      unmountChildren(c1)\r\n    }\r\n    if(c1 !== c2){\r\n      hostSetElementText(el,c2)\r\n    }\r\n   }else if(activeShapeFlag & ShapeFlags.ARRAY_CHILDREN){\r\n    // \u73B0\u5728\u53D8\u6570\u7EC4\r\n      if(prevShapeFlag & ShapeFlags.ARRAY_CHILDREN){\r\n        // diff\u7B97\u6CD5 \u4E4B\u524D\u662F\u6570\u7EC4\r\n        patchKeyChildren(c1,c2,el)  //\u5168\u91CF\u6BD4\u5BF9\r\n\r\n      }else if(prevShapeFlag & ShapeFlags.TEXT_CHILDREN){\r\n        // \u4E4B\u524D\u662F\u6587\u672C\r\n        // \u5148\u6E05\u7A7A\u6587\u672C\r\n         hostSetElementText(el,\"\")\r\n         mountChildren(el,c2)\r\n      }\r\n   }else{\r\n    // \u73B0\u5728\u53D8\u7A7A \r\n      hostSetElementText(el,\"\")\r\n   }\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  const patchElement = (oldN,newN)=>{\r\n    let el = newN.el = oldN.el\r\n\r\n    let oldProps = oldN.props || {}\r\n    let newProps = newN.props || {}\r\n    // \u5148\u6BD4\u8F83\u5C5E\u6027  \r\n    patchProps(oldProps,newProps,el)\r\n    // \u518D\u6BD4\u8F83\u513F\u5B50\r\n    for(let i = 0 ; i < newN.children.length ;i++){\r\n      newN.children[i] = normalize(newN.children,i)\r\n    }\r\n    \r\n    patchChildren(oldN,newN,el)\r\n\r\n  }\r\n\r\n  const processElement = (oldN,newN,container,anchor)=>{\r\n    if(oldN === null){\r\n      // \u521D\u6B21\u6E32\u67D3\uFF08\u5305\u62EC\u5143\u7D20\u7684\u521D\u6B21\u6E32\u67D3\u548C\u7EC4\u4EF6\u7684\u521D\u6B21\u6E32\u67D3\uFF09\r\n      mountElement(newN,container,anchor)\r\n    }else{\r\n      // \u66F4\u65B0\u6D41\u7A0B\r\n      /**\r\n       * - \u5982\u679C\u524D\u540E\u5B8C\u5168\u6CA1\u6709\u5173\u7CFB\uFF0C\u5220\u9664\u8001\u7684\uFF0C\u6DFB\u52A0\u65B0\u7684\r\n       * - \u8001\u7684\u548C\u65B0\u7684\u4E00\u6837 \u590D\u7528 \uFF0C\u5C5E\u6027\u53EF\u80FD\u4E0D\u4E00\u6837 \u518D\u5BF9\u6BD4\u5C5E\u6027\uFF0C\u66F4\u65B0\u5C5E\u6027\r\n       * - \u6BD4\u513F\u5B50\r\n      */\r\n      patchElement(oldN,newN)\r\n    }\r\n  }\r\n\r\n  const processFragment = (oldN,newN,container)=>{\r\n    if(oldN == null){\r\n      mountChildren(container,newN.children)\r\n    }else{\r\n      patchChildren(oldN,newN,container)\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  const mountComponent = (vnode,container,anchor)=>{\r\n    // 1 ) \u8981\u521B\u9020\u4E00\u4E2A\u7EC4\u4EF7\u7684\u5B9E\u4F8B\r\n    let instance =  vnode.component = createComponentInstance(vnode)\r\n\r\n    // 2 ) \u7ED9\u5B9E\u4F8B\u4E0A\u8D4B\u503C\r\n    setupComponent(instance)\r\n\r\n    // 3 \uFF09 \u521B\u9020\u4E00\u4E2Aeffect\r\n\r\n    setupRenderEffect(instance,container,anchor)\r\n\r\n\r\n\r\n  }\r\n\r\n  const  updateComponentPreRender = (instance,next)=>{\r\n    instance.next = null\r\n    instance.vnode = next //\u5B9E\u4F8B\u4E0A\u6700\u65B0\u7684\u865A\u62DF\u8282\u70B9\r\n    updateProps(instance.props,next.props)\r\n  }\r\n\r\n  const setupRenderEffect = (instance,container,anchor)=>{\r\n    const {render} = instance\r\n    const componentUpdateFn = ()=>{\r\n      // \u533A\u5206\u662F\u521D\u59CB\u5316 \u8FD8\u662F\u8981\u66F4\u65B0\r\n      if(!instance.isMounted){ //\u521D\u59CB\u5316\r\n\r\n        // const subTree = render.call(state)\r\n        const subTree = render.call(instance.proxy)\r\n\r\n        // \u521B\u9020\u4E86subtree\u7684\u771F\u5B9E\u8282\u70B9 \u5E76\u63D2\u5165\u4E86\r\n        patch(null,subTree,container,anchor)\r\n\r\n        instance.subTree = subTree\r\n\r\n        instance.isMounted = true\r\n      }else{\r\n        // \u7EC4\u4EF6\u5185\u90E8\u66F4\u65B0\r\n        let {next} = instance\r\n        if(next){\r\n          // \u66F4\u65B0\u524D\u9700\u8981\u62FF\u5230\u6700\u65B0\u7684\u5C5E\u6027\u6765\u8FDB\u884C\u66F4\u65B0\r\n          updateComponentPreRender(instance,next)\r\n        }\r\n\r\n        // const subTree = render.call(state)\r\n        const subTree = render.call(instance.proxy)\r\n        patch(instance.subTree,subTree,container,anchor)\r\n        instance.subTree = subTree\r\n\r\n      }\r\n    }\r\n\r\n    // ()=>queueJob(instance.update)  \u7EC4\u4EF6\u7684\u5F02\u6B65\u66F4\u65B0\r\n    const effect = new ReactiveEffect(componentUpdateFn,()=>queueJob(instance.update))\r\n\r\n    // \u5C06\u7EC4\u4EF6\u5F3A\u5236\u66F4\u65B0\u903B\u8F91 \u4FDD\u5B58\u5230\u7EC4\u4EF6\u7684\u5B9E\u4F8B\u4E0A\r\n    let update = instance.update = effect.run.bind(effect)  //  \u8C03\u7528\u8FD9\u4E2A\u65B9\u6CD5 \u53EF\u4EE5\u8BA9\u7EC4\u4EF6\u5F3A\u5236\u91CD\u65B0\u6E32\u67D3\r\n    update()\r\n  }\r\n\r\n  const shouldUpdateComponent = (n1,n2)=>{\r\n    const {props:prevProps,children:prevChildren} = n1\r\n    const {props:nextProps,children:nextChildren} = n2\r\n\r\n    if(prevProps === nextProps) return false\r\n\r\n    if(prevChildren || nextChildren){\r\n      return true\r\n    }\r\n\r\n    return hasPropsChanged(prevProps,nextProps)\r\n  }\r\n\r\n  const updateComponent = (n1,n2)=>{\r\n    // instance.props  \u662F\u54CD\u5E94\u5F0F\u7684  \u53EF\u4EE5\u76F4\u63A5\u66F4\u6539\r\n    // \u5BF9\u4E8E\u5143\u7D20\u800C\u5DF2 \u590D\u7528\u7684\u662Fdom\u8282\u70B9 \u5BF9\u4E8E\u7EC4\u4EF6\u590D\u7528\u7684\u662F\u5B9E\u4F8B\r\n\r\n    const instance = (n2.component = n1.component)\r\n\r\n/*     const {props:prevProps} = n1\r\n    const {props:nextProps} = n2\r\n\r\n    // \u5C5E\u6027\u66F4\u65B0\r\n    updateProps(instance,prevProps,nextProps) */\r\n\r\n  // \u7EC4\u4EF6\u9700\u8981\u66F4\u65B0\u5C31\u8C03\u7528 \u5B9E\u4F8B\u7684update\r\n    if(shouldUpdateComponent(n1,n2)){\r\n      instance.next = n2\r\n      instance.update()\r\n    }\r\n\r\n  }\r\n  const processComponent = (oldN,newN,container,anchor)=>{\r\n    // \u6709\u666E\u901A\u7EC4\u4EF6\u548C\u51FD\u6570\u5F0F\u7EC4\u4EF6 V3\u4E0D\u5EFA\u8BAE\u4F7F\u7528\u51FD\u6570\u5F0F\u7EC4\u4EF6\r\n    if(oldN === null){\r\n      mountComponent(newN,container,anchor)\r\n    }else{\r\n      // \u7EC4\u4EF6\u66F4\u65B0\u9760\u7684\u662Fprops\r\n      updateComponent(oldN,newN)\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  // \u6838\u5FC3\u7684\u65B9\u6CD5 \u53C2\u6570\uFF1A\u8001\u8282\u70B9 \u65B0\u8282\u70B9 \u6302\u8F7D\u7684\u5BB9\u5668\r\n  const patch = (oldN,newN,container,anchor = null)=>{\r\n    if(oldN === newN) return null\r\n\r\n    // \u65B0\u8001\u8282\u70B9\u5B8C\u5168\u4E0D\u4E00\u81F4 \u76F4\u63A5\u5220\u9664\u8001\u7684 \u518D \u521B\u5EFA\u65B0\u7684\r\n    if(oldN && !isSameVnode(oldN,newN)){\r\n      unmount(oldN)\r\n      oldN = null\r\n    }\r\n\r\n\r\n    const {type,shapeFlag} = newN\r\n\r\n    switch(type){\r\n      case Text:\r\n          processText(oldN,newN,container)\r\n        break;\r\n      case Fragment:\r\n          processFragment(oldN,newN,container)\r\n        break;\r\n      default:\r\n        if(shapeFlag & ShapeFlags.ELEMENT){\r\n          processElement(oldN,newN,container,anchor)\r\n        }else if(shapeFlag & ShapeFlags.COMPONENT){\r\n          processComponent(oldN,newN,container,anchor)\r\n        }\r\n    }\r\n  }\r\n\r\n  const unmount = (vnode)=>{\r\n    hostRemove(vnode.el)\r\n  }\r\n\r\n  // \u6E32\u67D3\u8FC7\u7A0B\u662F\u901A\u8FC7\u4F20\u5165\u7684 renderOptions \u6765\u6E32\u67D3\u7684\r\n  const render = (vnode,container)=>{\r\n    // console.log(vnode,container)\r\n    \r\n    if(vnode == null){\r\n    // \u5378\u8F7D\r\n    //\u5982\u679Cvnode\u662F\u7A7A\u7684 \u5C31\u6E05\u7A7Acontainer\u91CC\u9762\u7684\u5185\u5BB9 \r\n      if(container._vnode){\r\n        unmount(container._vnode)\r\n      }\r\n    }else{\r\n      // \u6302\u8F7D\r\n      // \u65E2\u6709\u521D\u59CB\u5316\u7684\u903B\u8F91 \u53C8\u6709\u66F4\u65B0\u7684\u903B\u8F91\r\n      patch(container._vnode || null,vnode,container)\r\n\r\n    }\r\n    //\u5C06\u4E0A\u4E00\u4E2A\u7684\u865A\u62DF\u8282\u70B9\u7F13\u5B58\u8D77\u6765\r\n    container._vnode = vnode\r\n\r\n    \r\n\r\n  }\r\n  return {\r\n    render\r\n  }\r\n  \r\n}\r\n// \u6587\u672C\u7684\u5904\u7406\uFF0C\u9700\u8981\u81EA\u5DF1\u589E\u52A0\u7C7B\u578B\uFF08Text\uFF09 \r\n// \u56E0\u4E3A\u4E0D\u80FD\u901A\u8FC7document.createElement(\"\u6587\u672C\")\u521B\u5EFA\u6587\u672C\u8282\u70B9\r\n", "import { isArray, isObject } from \"@vue/shared\"\r\nimport { createVnode, isVnode } from \"./vnode\"\r\n\r\n\r\n\r\n// h\u7684\u5199\u6CD5\r\n// h(\"div\")\r\n\r\n// h(\"div\",\"hello\")\r\n// h(\"div\",{style:{color:\"red\"}})\r\n// h(\"div\",h(\"span\"))\r\n// h(\"div\",[h(\"span\"),h(\"span\")])\r\n\r\n// h(\"div\",{style:{color:\"red\"}},\"hello\")\r\n// h(\"div\",null,\"hello\")\r\n// h(\"div\",null,\"hello\",'world')\r\n// h(\"div\",null,h(\"span\"))\r\n// h(\"div\",null,[h(\"span\"),h(\"span\")])\r\n\r\n// \r\n\r\n\r\nexport function h(type,propsChildren,children){\r\n\r\n  const l = arguments.length\r\n\r\n\r\n  if(l === 2){\r\n    // h(\"div\",\"hello\")\r\n    // h(\"div\",{style:{color:\"red\"}})\r\n    // h(\"div\",h(\"span\"))\r\n    // h(\"div\",[h(\"span\"),h(\"span\")])\r\n   /*  if(isArray(propsChildren)){\r\n      // \u662F\u6570\u7EC4\r\n      return createVnode(type,null,propsChildren)\r\n    }else{\r\n       if(isVnode(propsChildren)){\r\n        // \u865A\u62DF\u8282\u70B9\u5305\u88C5\u6210\u6570\u7EC4\r\n          return createVnode(type,null,[propsChildren])\r\n        }\r\n        // \u5C5E\u6027\r\n        return createVnode(type,propsChildren)\r\n    } */\r\n\r\n    if(isObject(propsChildren) && !isArray(propsChildren)){\r\n       if(isVnode(propsChildren)){\r\n        // \u865A\u62DF\u8282\u70B9\u5305\u88C5\u6210\u6570\u7EC4\r\n          return createVnode(type,null,[propsChildren])\r\n        }\r\n        // \u5C5E\u6027\r\n        return createVnode(type,propsChildren)\r\n    }else{\r\n       return createVnode(type,null,propsChildren)\r\n    }\r\n   \r\n\r\n  }else{\r\n    if(l > 3){\r\n      children = Array.from(arguments).slice(2)\r\n    }else if ( l === 3 && isVnode(children)){ // h(\"div\",{},h(\"span\"))\r\n      children = [children]\r\n    }\r\n    // children  \u53EF\u80FD\u662F\u6587\u672C \u4E5F\u53EF\u80FD\u662F\u6570\u7EC4\r\n    return createVnode(type,propsChildren,children)\r\n  }\r\n  \r\n}", "// \u8282\u70B9\u64CD\u4F5C\r\n\r\n\r\nexport const nodeOps = {\r\n  // \u589E\u52A0\r\n  insert(child,parent,anchor = null){\r\n    // \u5982\u679Canchor\u4E3Anull, insertBefore\u7B49\u4EF7\u4E8EappendChild\r\n    parent.insertBefore(child,anchor)\r\n  },\r\n  // \u5220\u9664\r\n  remove(child){\r\n    const  parentNode = child.parentNode\r\n    if(parentNode){\r\n      parentNode.removeChild(child)\r\n    }\r\n  },\r\n  // \u4FEE\u6539\r\n  // \u4FEE\u6539\u6587\u672C\u5185\u5BB9\r\n  setElementText(el,text){\r\n    // \u4E0D\u80FD\u76F4\u63A5\u4F7F\u7528innnerHTML\uFF0C\u56E0\u4E3A\u4F1A\u6267\u884C\u811A\u672C\r\n    el.textContent = text\r\n  },\r\n  // \u4FEE\u6539\u6587\u672C\u5143\u7D20\r\n  setText(node,text){\r\n    node.nodeValue = text\r\n  },\r\n  // \u67E5\u8BE2\r\n  querySelector(selector){\r\n    return  document.querySelector(selector)\r\n  },\r\n  parentNode(node){\r\n    return node.parentNode\r\n  },\r\n  nextSibling(node){\r\n    return node.nextSibling\r\n  },\r\n  // \u521B\u5EFA\r\n  createElement(tagName){\r\n    return document.createElement(tagName)\r\n  },\r\n  // \u521B\u5EFA\u6587\u672C\r\n  createText(text){\r\n    return document.createTextNode(text)\r\n  }\r\n\r\n\r\n}", "export function patchAttr(el,key,nextValue){\r\n  if(nextValue){\r\n    el.setAttribute(key,nextValue)\r\n  }else{\r\n    el.removeAttribute(key)\r\n  }\r\n}", "export function patchClass(el,nextValue){\r\n  if(nextValue == null){\r\n    // \u5982\u679C\u65B0\u7684class\u662F\u7A7A\u7684 \u5C31\u5220\u6389class\r\n    el.removeattribute(\"class\")\r\n  }else{\r\n    el.className = nextValue\r\n  }\r\n}", "function createInvoker(callback){\r\n  const invoker = (e)=>invoker.value(e)\r\n  invoker.value = callback\r\n  return invoker\r\n}\r\n\r\n\r\nexport function patchEvent(el,eventName,nextValue){\r\n  \r\n  // \u4E8B\u4EF6\u7ED1\u5B9A\u90FD\u7F13\u5B58\u5230\u4E86 \u5F53\u524D\u7684dom\u8EAB\u4E0A\r\n  let invokers = el._vei || (el._vel = {})\r\n\r\n  let exits = invokers[eventName]\r\n  // \u67E5\u770B\u4E8B\u4EF6\u662F\u5426\u7F13\u5B58\u8FC7 \u5E76\u4E14 nextValue \u8981\u6709\u503C\r\n  if(exits && nextValue){\r\n    // \u6CA1\u6709\u5378\u8F7D\u51FD\u6570 \u53EA\u662F\u6539\u4E86invoker\u7684value\u5C5E\u6027\r\n    exits.value = nextValue \r\n\r\n  }else{\r\n    // \u4E0D\u5B58\u5728\u5C31\u521B\u5EFA\u4E8B\u4EF6\r\n\r\n    // \u5148\u5C06 onClick \u8F6C\u4E3A click\r\n    let event = eventName.slice(2).toLowerCase()\r\n\r\n    // \u5C06\u4E8B\u4EF6\u7F13\u5B58\u8D77\u6765\r\n    if(nextValue){\r\n      const invoker = invokers[eventName] = createInvoker(nextValue)\r\n      el.addEventListener(event,invoker)\r\n    }else if(exits){\r\n      // \u4E4B\u524D\u6709\u503C \u73B0\u5728nextValue\u4E3A\u7A7A \u5C31\u79FB\u9664\u8FD9\u4E2A\u4E8B\u4EF6\r\n      el.removeEventListener(event,exits)\r\n      invokers[eventName] = null\r\n    }\r\n\r\n\r\n  }\r\n\r\n}", "export function patchStyle(el,prevValue,nextValue = {}){\r\n  // \u6837\u5F0F\u9700\u8981\u6BD4\u5BF9 prevValue\u548CnextValue\u7684\u5DEE\u5F02\r\n\r\n\r\n  for(let key in nextValue){\r\n    // \u7528\u65B0\u7684\u76F4\u63A5\u8986\u76D6\r\n    el.style[key] = nextValue[key]\r\n  }\r\n\r\n  \r\n  // \u5982\u679C\u65E7\u7684\u662F color:red;fontSize:20px\r\n  // \u65B0\u7684\u662F color\uFF1Ablue\r\n  // \u90A3\u4E48\u5C31\u9700\u8981\u5C06\u65E7\u7684fontSize\u5220\u9664\r\n  if(prevValue){\r\n    for(let key in prevValue){\r\n      if(nextValue[key] == null){\r\n        el.style[key] = null\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n}", "// DOM\u5C5E\u6027\u64CD\u4F5Capi\r\n\r\nimport { patchAttr } from \"./modules/attr\";\r\nimport { patchClass } from \"./modules/class\";\r\nimport { patchEvent } from \"./modules/event\";\r\nimport { patchStyle } from \"./modules/style\";\r\n\r\nexport function patchProp(el,key,prevValue,nextValue){\r\n  // \u7C7B\u540D  el.className\r\n  if(key === 'class'){\r\n    patchClass(el,nextValue)\r\n  }else if(key === 'style'){\r\n  // \u6837\u5F0F   el.style\r\n    patchStyle(el,prevValue,nextValue)\r\n  }else if(/^on[^a-z]/.test(key)){\r\n  // \u4E8B\u4EF6  events  addEventListener\r\n    patchEvent(el,key,nextValue)\r\n  }else{\r\n    // \u666E\u901A\u5C5E\u6027  el.setAttribute\r\n    patchAttr(el,key,nextValue)\r\n  }\r\n\r\n}"],
  "mappings": "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",
  "names": []
}
