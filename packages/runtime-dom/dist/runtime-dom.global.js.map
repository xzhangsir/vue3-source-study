{
  "version": 3,
  "sources": ["../src/index.ts", "../../runtime-core/src/renderer.ts", "../../runtime-core/src/h.ts", "../src/nodeOps.ts", "../src/modules/attr.ts", "../src/modules/class.ts", "../src/modules/event.ts", "../src/modules/style.ts", "../src/patchProp.ts"],
  "sourcesContent": ["\r\nimport { createRenderer } from \"@vue/runtime-core\";\r\nimport { nodeOps } from \"./nodeOps\";\r\nimport { patchProp } from \"./patchProp\";\r\n\r\n\r\n// DOM\u548C\u5C5E\u6027\u7684API\r\n\r\nconst renderOptions =  Object.assign(nodeOps,{patchProp})\r\n\r\n\r\n// container  \u865A\u62DFdom\u6302\u8F7D\u5230\u54EA\u4E2A\u5BB9\u5668\u4E0A\r\nexport function render(vnode,container){\r\n  createRenderer(renderOptions).render(vnode,container)\r\n  \r\n}\r\n\r\n\r\n\r\nexport * from  \"@vue/runtime-core\"\r\n// console.log(renderOptions)\r\n", "\r\nexport function createRenderer(renderOptions){\r\n  // \u6E32\u67D3\u8FC7\u7A0B\u662F\u901A\u8FC7\u4F20\u5165\u7684 renderOptions \u6765\u6E32\u67D3\u7684\r\n  const render = (vnode,container)=>{\r\n    \r\n\r\n  }\r\n  return {\r\n    render\r\n  }\r\n}\r\n", "export function h(){\r\n  \r\n}", "// \u8282\u70B9\u64CD\u4F5C\r\n\r\n\r\nexport const nodeOps = {\r\n  // \u589E\u52A0\r\n  insert(child,parent,anchor = null){\r\n    // \u5982\u679Canchor\u4E3Anull, insertBefore\u7B49\u4EF7\u4E8EappendChild\r\n    parent.insertBefore(child,anchor)\r\n  },\r\n  // \u5220\u9664\r\n  remove(child){\r\n    const  parentNode = child.parentNode\r\n    if(parentNode){\r\n      parentNode.removeChild(child)\r\n    }\r\n  },\r\n  // \u4FEE\u6539\r\n  // \u4FEE\u6539\u6587\u672C\u5185\u5BB9\r\n  setElementText(el,text){\r\n    // \u4E0D\u80FD\u76F4\u63A5\u4F7F\u7528innnerHTML\uFF0C\u56E0\u4E3A\u4F1A\u6267\u884C\u811A\u672C\r\n    el.textContent = text\r\n  },\r\n  // \u4FEE\u6539\u6587\u672C\u5143\u7D20\r\n  setText(node,text){\r\n    node.nodeValue = text\r\n  },\r\n  // \u67E5\u8BE2\r\n  querySelector(selector){\r\n    return  document.querySelector(selector)\r\n  },\r\n  parentNode(node){\r\n    return node.parentNode\r\n  },\r\n  nextSibling(node){\r\n    return node.nextSibling\r\n  },\r\n  // \u521B\u5EFA\r\n  createElement(tagName){\r\n    return document.createElement(tagName)\r\n  },\r\n  // \u521B\u5EFA\u6587\u672C\r\n  createText(text){\r\n    return document.createTextNode(text)\r\n  }\r\n\r\n\r\n}", "export function patchAttr(el,key,nextValue){\r\n  if(nextValue){\r\n    el.setAttribute(key,nextValue)\r\n  }else{\r\n    el.removeAttribute(key)\r\n  }\r\n}", "export function patchClass(el,nextValue){\r\n  if(nextValue == null){\r\n    // \u5982\u679C\u65B0\u7684class\u662F\u7A7A\u7684 \u5C31\u5220\u6389class\r\n    el.removeattribute(\"class\")\r\n  }else{\r\n    el.className = nextValue\r\n  }\r\n}", "function createInvoker(callback){\r\n  const invoker = (e)=>invoker.value(e)\r\n  invoker.value = callback\r\n  return invoker\r\n}\r\n\r\n\r\nexport function patchEvent(el,eventName,nextValue){\r\n  \r\n  // \u4E8B\u4EF6\u7ED1\u5B9A\u90FD\u7F13\u5B58\u5230\u4E86 \u5F53\u524D\u7684dom\u8EAB\u4E0A\r\n  let invokers = el._vei || (el._vel = {})\r\n\r\n  let exits = invokers[eventName]\r\n  // \u67E5\u770B\u4E8B\u4EF6\u662F\u5426\u7F13\u5B58\u8FC7 \u5E76\u4E14 nextValue \u8981\u6709\u503C\r\n  if(exits && nextValue){\r\n    // \u6CA1\u6709\u5378\u8F7D\u51FD\u6570 \u53EA\u662F\u6539\u4E86invoker\u7684value\u5C5E\u6027\r\n    exits.value = nextValue \r\n\r\n  }else{\r\n    // \u4E0D\u5B58\u5728\u5C31\u521B\u5EFA\u4E8B\u4EF6\r\n\r\n    // \u5148\u5C06 onClick \u8F6C\u4E3A click\r\n    let event = eventName.slice(2).toLowerCase()\r\n\r\n    // \u5C06\u4E8B\u4EF6\u7F13\u5B58\u8D77\u6765\r\n    if(nextValue){\r\n      const invoker = invokers[eventName] = createInvoker(nextValue)\r\n      el.addEventListener(event,invoker)\r\n    }else if(exits){\r\n      // \u4E4B\u524D\u6709\u503C \u73B0\u5728nextValue\u4E3A\u7A7A \u5C31\u79FB\u9664\u8FD9\u4E2A\u4E8B\u4EF6\r\n      el.removeEventListener(event,exits)\r\n      invokers[eventName] = null\r\n    }\r\n\r\n\r\n  }\r\n\r\n}", "export function patchStyle(el,prevValue,nextValue){\r\n  // \u6837\u5F0F\u9700\u8981\u6BD4\u5BF9 prevValue\u548CnextValue\u7684\u5DEE\u5F02\r\n\r\n\r\n  for(let key in nextValue){\r\n    // \u7528\u65B0\u7684\u76F4\u63A5\u8986\u76D6\r\n    el.style[key] = nextValue[key]\r\n  }\r\n\r\n  \r\n  // \u5982\u679C\u65E7\u7684\u662F color:red;fontSize:20px\r\n  // \u65B0\u7684\u662F color\uFF1Ablue\r\n  // \u90A3\u4E48\u5C31\u9700\u8981\u5C06\u65E7\u7684fontSize\u5220\u9664\r\n  if(prevValue){\r\n    for(let key in prevValue){\r\n      if(nextValue[key] == null){\r\n        el.style[key] = null\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n}", "// DOM\u5C5E\u6027\u64CD\u4F5Capi\r\n\r\nimport { patchAttr } from \"./modules/attr\";\r\nimport { patchClass } from \"./modules/class\";\r\nimport { patchEvent } from \"./modules/event\";\r\nimport { patchStyle } from \"./modules/style\";\r\n\r\nexport function patchProp(el,key,prevValue,nextValue){\r\n  // \u7C7B\u540D  el.className\r\n  if(key === 'class'){\r\n    patchClass(el,nextValue)\r\n  }else if(key === 'style'){\r\n  // \u6837\u5F0F   el.style\r\n    patchStyle(el,prevValue,nextValue)\r\n  }else if(/^on[^a-z]/.test(key)){\r\n  // \u4E8B\u4EF6  events  addEventListener\r\n    patchEvent(el,key,nextValue)\r\n  }else{\r\n    // \u666E\u901A\u5C5E\u6027  el.setAttribute\r\n    patchAttr(el,key,nextValue)\r\n  }\r\n\r\n}"],
  "mappings": "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",
  "names": []
}
